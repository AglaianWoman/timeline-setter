
<div id="timeline_setter">
  <div id="TS-top_matter_container">
    <div class="TS-controls">
      <a href="#" class="TS-zoom TS-zoom_in"><span class="TS-controls_inner_text TS-zoom_inner_text">+</span></a> 
      <a href="#" class="TS-zoom TS-zoom_out"><span class="TS-controls_inner_text TS-zoom_inner_text">-</span></a> 
        &nbsp;&nbsp;&nbsp;&nbsp; 
      <a href="#" class="TS-choose TS-choose_prev">&laquo;&nbsp;<span class="TS-controls_inner_text">Previous</span></a> 
      <a href="#" class="TS-choose TS-choose_next"><span class="TS-controls_inner_text">Next</span>&nbsp;&raquo;</a>
    </div>
    <div class="TS-series_nav_container"></div>
  </div>

  <div class="TS-notchbar_container">
    <div class="TS-notchbar"></div>
  </div>
  <div id="TS-card_scroller">
    <div id="TS-card_scroller_inner">
    </div>
  </div>
</div>

<script type="text/javascript">
  var currentTimeline = TimelineSetter.Timeline.boot(<%= self.to_json %>, <%= self.interval_json %>);
</script>
<script id="TS-year_notch_tmpl" type="text/jst">
  <div class="TS-year_notch TS-year_notch_<%%= timestamp %>">
    <span class="TS-year_notch_year_text"><%%= human %></span>
  </div>
</script>
<script id="TS-notch_tmpl" type="text/jst">
  <div class="TS-notch TS-notch_<%%= timestamp %> TS-notch_<%%= series.replace(/\W/g, "") %> TS-notch_color_<%%= topcolor %>"></div>
</script>
<script id="TS-series_legend_tmpl" type="text/jst">
    <div class="TS-series_legend_item TS-series_legend_item_<%%= name.replace(/\W/g, "") %>">
      <span class="TS-series_legend_swatch TS-series_legend_swatch_<%%= color %>">&nbsp;</span> <span class="TS-series_legend_text"><%%= name %></span>
    </div>
</script>
<script id="TS-card_tmpl" type="text/jst">
<div class="TS-card_container TS-card_container_<%%= (card.get("series") || "").replace(/\W/g, "") %>">
<div class="TS-css_arrow TS-css_arrow_up TS-css_arrow_color_<%%= card.get("topcolor") %>"></div>
  <div class="TS-item TS-item_color_<%%= card.get("topcolor") %>" data-timestamp="<%%= card.get("timestamp") %>">
    <div class="TS-item_label">
      <%% if (!_.isEmpty(card.get("html"))){ %>
        <div class="TS-item_user_html">
          <%%= card.get("html") %>
        </div>
      <%% } %>
      <%%= card.get("description") %>
    </div>
      <%% if (!_.isEmpty(card.get("link"))){ %>
          <a class="TS-read_btn" target="_blank" href="<%%= card.get("link") %>">Read More</a>
      <%% } %>

    <div class="TS-item_year">
      <span class="TS-item_year_text"><%%= (card.get("display_date") || "").length > 0 ? card.get("display_date") : card.get("date") %></span>
      <div class="TS-permalink">&#8734;</div>
    </div>
  </div>
</div>
</script>