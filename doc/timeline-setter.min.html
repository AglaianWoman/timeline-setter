<!DOCTYPE html>  <html> <head>   <title>timeline-setter.min.js</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="templates.html">                 templates.js               </a>                                           <a class="source" href="timeline-setter.html">                 timeline-setter.js               </a>                                           <a class="source" href="timeline-setter.min.html">                 timeline-setter.min.js               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               timeline-setter.min.js             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="kd">var</span> <span class="nx">m</span><span class="o">=</span><span class="nb">window</span><span class="p">.</span><span class="nx">TimelineSetter</span><span class="o">=</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">TimelineSetter</span><span class="o">||</span><span class="p">{});</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="nx">E</span><span class="p">.</span><span class="nx">bind</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">I</span><span class="p">,</span><span class="nx">F</span><span class="p">){</span><span class="kd">var</span> <span class="nx">G</span><span class="o">=</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_callbacks</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">_callbacks</span><span class="o">||</span><span class="p">{});</span><span class="kd">var</span> <span class="nx">H</span><span class="o">=</span><span class="p">(</span><span class="nx">G</span><span class="p">[</span><span class="nx">I</span><span class="p">]</span><span class="o">=</span><span class="nx">G</span><span class="p">[</span><span class="nx">I</span><span class="p">]</span><span class="o">||</span><span class="p">[]);</span><span class="nx">H</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">F</span><span class="p">)};</span><span class="nx">E</span><span class="p">.</span><span class="nx">trigger</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">H</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">_callbacks</span><span class="p">){</span><span class="k">return</span><span class="p">}</span><span class="kd">var</span> <span class="nx">G</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">_callbacks</span><span class="p">[</span><span class="nx">H</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">G</span><span class="p">){</span><span class="k">return</span><span class="p">}</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">F</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">F</span><span class="o">&lt;</span><span class="nx">G</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">F</span><span class="o">++</span><span class="p">){</span><span class="nx">G</span><span class="p">[</span><span class="nx">F</span><span class="p">].</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">arguments</span><span class="p">)}}};</span><span class="kd">var</span> <span class="nx">B</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="nx">E</span><span class="p">.</span><span class="nx">move</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">G</span><span class="p">,</span><span class="nx">F</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">F</span><span class="p">.</span><span class="nx">deltaX</span><span class="p">){</span><span class="k">return</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">_</span><span class="p">.</span><span class="nx">isUndefined</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">currOffset</span><span class="p">)){</span><span class="k">this</span><span class="p">.</span><span class="nx">currOffset</span><span class="o">=</span><span class="mi">0</span><span class="p">}</span><span class="k">this</span><span class="p">.</span><span class="nx">currOffset</span><span class="o">+=</span><span class="nx">F</span><span class="p">.</span><span class="nx">deltaX</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">left</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">currOffset</span><span class="p">})};</span><span class="nx">E</span><span class="p">.</span><span class="nx">zoom</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">G</span><span class="p">,</span><span class="nx">F</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">F</span><span class="p">.</span><span class="nx">width</span><span class="p">){</span><span class="k">return</span><span class="p">}</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">width</span><span class="o">:</span><span class="nx">F</span><span class="p">.</span><span class="nx">width</span><span class="p">})}};</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">F</span><span class="p">,</span><span class="nx">E</span><span class="p">){</span><span class="nx">F</span><span class="p">.</span><span class="nx">$</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">G</span><span class="p">){</span><span class="k">return</span> <span class="nb">window</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="nx">G</span><span class="p">,</span><span class="nx">E</span><span class="p">)}};</span><span class="kd">var</span> <span class="nx">A</span><span class="o">=</span><span class="s2">&quot;ontouchstart&quot;</span> <span class="k">in</span> <span class="nb">document</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">A</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;touches&quot;</span><span class="p">)}</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">I</span><span class="p">){</span><span class="kd">var</span> <span class="nx">G</span><span class="p">;</span><span class="kd">function</span> <span class="nx">E</span><span class="p">(</span><span class="nx">K</span><span class="p">){</span><span class="nx">K</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span><span class="nx">G</span><span class="o">=</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">K</span><span class="p">.</span><span class="nx">pageX</span><span class="p">};</span><span class="nx">K</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;dragstart&quot;</span><span class="p">;</span><span class="nx">I</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="nx">K</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">F</span><span class="p">(</span><span class="nx">K</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">G</span><span class="p">){</span><span class="k">return</span><span class="p">}</span><span class="nx">K</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span><span class="nx">K</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;dragging&quot;</span><span class="p">;</span><span class="nx">K</span><span class="o">=</span><span class="nx">_</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">K</span><span class="p">,{</span><span class="nx">deltaX</span><span class="o">:</span><span class="p">(</span><span class="nx">K</span><span class="p">.</span><span class="nx">pageX</span><span class="o">||</span><span class="nx">K</span><span class="p">.</span><span class="nx">touches</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">pageX</span><span class="p">)</span><span class="o">-</span><span class="nx">G</span><span class="p">.</span><span class="nx">x</span><span class="p">});</span><span class="nx">G</span><span class="o">=</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="p">(</span><span class="nx">K</span><span class="p">.</span><span class="nx">pageX</span><span class="o">||</span><span class="nx">K</span><span class="p">.</span><span class="nx">touches</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">pageX</span><span class="p">)};</span><span class="nx">I</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="nx">K</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">J</span><span class="p">(</span><span class="nx">K</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">G</span><span class="p">){</span><span class="k">return</span><span class="p">}</span><span class="nx">G</span><span class="o">=</span><span class="kc">null</span><span class="p">;</span><span class="nx">K</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;dragend&quot;</span><span class="p">;</span><span class="nx">I</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="nx">K</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">A</span><span class="p">){</span><span class="nx">I</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;mousedown&quot;</span><span class="p">,</span><span class="nx">E</span><span class="p">);</span><span class="nx">e</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;mousemove&quot;</span><span class="p">,</span><span class="nx">F</span><span class="p">);</span><span class="nx">e</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;mouseup&quot;</span><span class="p">,</span><span class="nx">J</span><span class="p">)}</span><span class="k">else</span><span class="p">{</span><span class="kd">var</span> <span class="nx">H</span><span class="p">;</span><span class="nx">I</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;touchstart&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">M</span><span class="p">){</span><span class="kd">var</span> <span class="nx">K</span><span class="o">=</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span><span class="kd">var</span> <span class="nx">N</span><span class="o">=</span><span class="nx">K</span><span class="o">-</span><span class="p">(</span><span class="nx">H</span><span class="o">||</span><span class="nx">K</span><span class="p">);</span><span class="kd">var</span> <span class="nx">L</span><span class="o">=</span><span class="nx">N</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">N</span><span class="o">&lt;=</span><span class="mi">250</span><span class="o">?</span><span class="s2">&quot;doubletap&quot;</span><span class="o">:</span><span class="s2">&quot;tap&quot;</span><span class="p">;</span><span class="nx">G</span><span class="o">=</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">M</span><span class="p">.</span><span class="nx">touches</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">pageX</span><span class="p">};</span><span class="nx">H</span><span class="o">=</span><span class="nx">K</span><span class="p">;</span><span class="nx">I</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">Event</span><span class="p">(</span><span class="nx">L</span><span class="p">))});</span><span class="nx">I</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;touchmove&quot;</span><span class="p">,</span><span class="nx">F</span><span class="p">);</span><span class="nx">I</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;touchend&quot;</span><span class="p">,</span><span class="nx">J</span><span class="p">)}};</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="sr">/WebKit\/533/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">);</span><span class="kd">var</span> <span class="nx">y</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">F</span><span class="p">){</span><span class="kd">function</span> <span class="nx">E</span><span class="p">(</span><span class="nx">H</span><span class="p">){</span><span class="nx">H</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span><span class="kd">var</span> <span class="nx">I</span><span class="o">=</span><span class="p">(</span><span class="nx">H</span><span class="p">.</span><span class="nx">wheelDelta</span><span class="o">||-</span><span class="nx">H</span><span class="p">.</span><span class="nx">detail</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">o</span><span class="p">){</span><span class="kd">var</span> <span class="nx">G</span><span class="o">=</span><span class="nx">I</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">?-</span><span class="mi">1</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span><span class="nx">I</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">I</span><span class="p">))</span><span class="o">*</span><span class="nx">G</span><span class="o">*</span><span class="mi">2</span><span class="p">}</span><span class="nx">H</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;scrolled&quot;</span><span class="p">;</span><span class="nx">H</span><span class="p">.</span><span class="nx">deltaX</span><span class="o">=</span><span class="nx">I</span><span class="p">;</span><span class="nx">F</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="nx">H</span><span class="p">)}</span><span class="nx">F</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;mousewheel DOMMouseScroll&quot;</span><span class="p">,</span><span class="nx">E</span><span class="p">)};</span><span class="kd">var</span> <span class="nx">w</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">min</span><span class="o">=+</span><span class="kc">Infinity</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">max</span><span class="o">=-</span><span class="kc">Infinity</span><span class="p">};</span><span class="nx">w</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">extend</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">min</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">E</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">min</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">max</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">E</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">max</span><span class="p">)};</span><span class="nx">w</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">max</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">min</span><span class="p">};</span><span class="nx">w</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">project</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">F</span><span class="p">,</span><span class="nx">E</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">F</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">min</span><span class="p">)</span><span class="o">/</span><span class="k">this</span><span class="p">.</span><span class="nx">width</span><span class="p">()</span><span class="o">*</span><span class="nx">E</span><span class="p">};</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">G</span><span class="p">,</span><span class="nx">E</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">max</span><span class="o">=</span><span class="nx">G</span><span class="p">.</span><span class="nx">max</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">min</span><span class="o">=</span><span class="nx">G</span><span class="p">.</span><span class="nx">min</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">E</span><span class="o">||!</span><span class="k">this</span><span class="p">.</span><span class="nx">INTERVALS</span><span class="p">[</span><span class="nx">E</span><span class="p">]){</span><span class="kd">var</span> <span class="nx">F</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">computeMaxInterval</span><span class="p">();</span><span class="k">this</span><span class="p">.</span><span class="nx">maxInterval</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">INTERVAL_ORDER</span><span class="p">[</span><span class="nx">F</span><span class="p">];</span><span class="k">this</span><span class="p">.</span><span class="nx">idx</span><span class="o">=</span><span class="nx">F</span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">maxInterval</span><span class="o">=</span><span class="nx">E</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">idx</span><span class="o">=</span><span class="nx">_</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">INTERVAL_ORDER</span><span class="p">,</span><span class="nx">E</span><span class="p">)}};</span><span class="nx">h</span><span class="p">.</span><span class="nx">dateFormats</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">H</span><span class="p">){</span><span class="kd">var</span> <span class="nx">J</span><span class="o">=</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">H</span><span class="p">);</span><span class="kd">var</span> <span class="nx">I</span><span class="o">=</span><span class="p">{};</span><span class="kd">var</span> <span class="nx">F</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Jan.&quot;</span><span class="p">,</span><span class="s2">&quot;Feb.&quot;</span><span class="p">,</span><span class="s2">&quot;March&quot;</span><span class="p">,</span><span class="s2">&quot;April&quot;</span><span class="p">,</span><span class="s2">&quot;May&quot;</span><span class="p">,</span><span class="s2">&quot;June&quot;</span><span class="p">,</span><span class="s2">&quot;July&quot;</span><span class="p">,</span><span class="s2">&quot;Aug.&quot;</span><span class="p">,</span><span class="s2">&quot;Sept.&quot;</span><span class="p">,</span><span class="s2">&quot;Oct.&quot;</span><span class="p">,</span><span class="s2">&quot;Nov.&quot;</span><span class="p">,</span><span class="s2">&quot;Dec.&quot;</span><span class="p">];</span><span class="kd">var</span> <span class="nx">G</span><span class="o">=</span><span class="nx">J</span><span class="p">.</span><span class="nx">getHours</span><span class="p">()</span><span class="o">&gt;</span><span class="mi">12</span><span class="p">;</span><span class="kd">var</span> <span class="nx">E</span><span class="o">=</span><span class="nx">J</span><span class="p">.</span><span class="nx">getHours</span><span class="p">()</span><span class="o">&gt;=</span><span class="mi">12</span><span class="p">;</span><span class="nx">I</span><span class="p">.</span><span class="nx">month</span><span class="o">=</span><span class="nx">F</span><span class="p">[</span><span class="nx">J</span><span class="p">.</span><span class="nx">getMonth</span><span class="p">()];</span><span class="nx">I</span><span class="p">.</span><span class="nx">year</span><span class="o">=</span><span class="nx">J</span><span class="p">.</span><span class="nx">getFullYear</span><span class="p">();</span><span class="nx">I</span><span class="p">.</span><span class="nx">date</span><span class="o">=</span><span class="nx">I</span><span class="p">.</span><span class="nx">month</span><span class="o">+</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span class="nx">J</span><span class="p">.</span><span class="nx">getDate</span><span class="p">()</span><span class="o">+</span><span class="s2">&quot;, &quot;</span><span class="o">+</span><span class="nx">I</span><span class="p">.</span><span class="nx">year</span><span class="p">;</span><span class="nx">I</span><span class="p">.</span><span class="nx">hourWithMinutes</span><span class="o">=</span><span class="p">(</span><span class="nx">G</span><span class="o">?</span><span class="nx">J</span><span class="p">.</span><span class="nx">getHours</span><span class="p">()</span><span class="o">-</span><span class="mi">12</span><span class="o">:</span><span class="p">(</span><span class="nx">J</span><span class="p">.</span><span class="nx">getHours</span><span class="p">()</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">?</span><span class="nx">J</span><span class="p">.</span><span class="nx">getHours</span><span class="p">()</span><span class="o">:</span><span class="s2">&quot;12&quot;</span><span class="p">))</span><span class="o">+</span><span class="s2">&quot;:&quot;</span><span class="o">+</span><span class="nx">z</span><span class="p">(</span><span class="nx">J</span><span class="p">.</span><span class="nx">getMinutes</span><span class="p">())</span><span class="o">+</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span class="p">(</span><span class="nx">E</span><span class="o">?</span><span class="s2">&quot;p.m.&quot;</span><span class="o">:</span><span class="s2">&quot;a.m.&quot;</span><span class="p">);</span><span class="nx">I</span><span class="p">.</span><span class="nx">hourWithMinutesAndSeconds</span><span class="o">=</span><span class="nx">I</span><span class="p">.</span><span class="nx">hourWithMinutes</span><span class="o">+</span><span class="s2">&quot;:&quot;</span><span class="o">+</span><span class="nx">z</span><span class="p">(</span><span class="nx">J</span><span class="p">.</span><span class="nx">getSeconds</span><span class="p">());</span><span class="k">return</span> <span class="nx">h</span><span class="p">.</span><span class="nx">formatter</span><span class="p">(</span><span class="nx">J</span><span class="p">,</span><span class="nx">I</span><span class="p">)</span><span class="o">||</span><span class="nx">I</span><span class="p">};</span><span class="nx">h</span><span class="p">.</span><span class="nx">dateStr</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">F</span><span class="p">,</span><span class="nx">E</span><span class="p">){</span><span class="kd">var</span> <span class="nx">G</span><span class="o">=</span><span class="k">new</span> <span class="nx">h</span><span class="p">.</span><span class="nx">dateFormats</span><span class="p">(</span><span class="nx">F</span><span class="p">);</span><span class="k">switch</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="k">case</span><span class="s2">&quot;Decade&quot;</span><span class="o">:</span><span class="k">return</span> <span class="nx">G</span><span class="p">.</span><span class="nx">year</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;Lustrum&quot;</span><span class="o">:</span><span class="k">return</span> <span class="nx">G</span><span class="p">.</span><span class="nx">year</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;FullYear&quot;</span><span class="o">:</span><span class="k">return</span> <span class="nx">G</span><span class="p">.</span><span class="nx">year</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;Month&quot;</span><span class="o">:</span><span class="k">return</span> <span class="nx">G</span><span class="p">.</span><span class="nx">month</span><span class="o">+</span><span class="s2">&quot;, &quot;</span><span class="o">+</span><span class="nx">G</span><span class="p">.</span><span class="nx">year</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;Week&quot;</span><span class="o">:</span><span class="k">return</span> <span class="nx">G</span><span class="p">.</span><span class="nx">date</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;Date&quot;</span><span class="o">:</span><span class="k">return</span> <span class="nx">G</span><span class="p">.</span><span class="nx">date</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;Hours&quot;</span><span class="o">:</span><span class="k">return</span> <span class="nx">G</span><span class="p">.</span><span class="nx">hourWithMinutes</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;Minutes&quot;</span><span class="o">:</span><span class="k">return</span> <span class="nx">G</span><span class="p">.</span><span class="nx">hourWithMinutes</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;Seconds&quot;</span><span class="o">:</span><span class="k">return</span> <span class="nx">G</span><span class="p">.</span><span class="nx">hourWithMinutesAndSeconds</span><span class="p">}};</span><span class="nx">h</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="p">{</span><span class="nx">INTERVALS</span><span class="o">:</span><span class="p">{</span><span class="nx">Decade</span><span class="o">:</span><span class="mi">315360000000</span><span class="p">,</span><span class="nx">Lustrum</span><span class="o">:</span><span class="mi">157680000000</span><span class="p">,</span><span class="nx">FullYear</span><span class="o">:</span><span class="mi">31536000000</span><span class="p">,</span><span class="nx">Month</span><span class="o">:</span><span class="mi">2592000000</span><span class="p">,</span><span class="nx">Week</span><span class="o">:</span><span class="mi">604800000</span><span class="p">,</span><span class="nb">Date</span><span class="o">:</span><span class="mi">86400000</span><span class="p">,</span><span class="nx">Hours</span><span class="o">:</span><span class="mi">3600000</span><span class="p">,</span><span class="nx">Minutes</span><span class="o">:</span><span class="mi">60000</span><span class="p">,</span><span class="nx">Seconds</span><span class="o">:</span><span class="mi">1000</span><span class="p">},</span><span class="nx">INTERVAL_ORDER</span><span class="o">:</span><span class="p">[</span><span class="s2">&quot;Seconds&quot;</span><span class="p">,</span><span class="s2">&quot;Minutes&quot;</span><span class="p">,</span><span class="s2">&quot;Hours&quot;</span><span class="p">,</span><span class="s2">&quot;Date&quot;</span><span class="p">,</span><span class="s2">&quot;Week&quot;</span><span class="p">,</span><span class="s2">&quot;Month&quot;</span><span class="p">,</span><span class="s2">&quot;FullYear&quot;</span><span class="p">,</span><span class="s2">&quot;Lustrum&quot;</span><span class="p">,</span><span class="s2">&quot;Decade&quot;</span><span class="p">],</span><span class="nx">isAtLeastA</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="k">return</span><span class="p">((</span><span class="k">this</span><span class="p">.</span><span class="nx">max</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">min</span><span class="p">)</span><span class="o">&gt;</span><span class="k">this</span><span class="p">.</span><span class="nx">INTERVALS</span><span class="p">[</span><span class="nx">E</span><span class="p">])},</span><span class="nx">computeMaxInterval</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">E</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">E</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">INTERVAL_ORDER</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">E</span><span class="o">++</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">isAtLeastA</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">INTERVAL_ORDER</span><span class="p">[</span><span class="nx">E</span><span class="p">])){</span><span class="k">break</span><span class="p">}}</span><span class="k">return</span> <span class="nx">E</span><span class="o">-</span><span class="mi">1</span><span class="p">},</span><span class="nx">getMaxInterval</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">INTERVALS</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">INTERVAL_ORDER</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">idx</span><span class="p">]]},</span><span class="nx">getDecade</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">E</span><span class="p">.</span><span class="nx">getFullYear</span><span class="p">()</span><span class="o">/</span><span class="mi">10</span><span class="o">|</span><span class="mi">0</span><span class="p">)</span><span class="o">*</span><span class="mi">10</span><span class="p">},</span><span class="nx">getLustrum</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">E</span><span class="p">.</span><span class="nx">getFullYear</span><span class="p">()</span><span class="o">/</span><span class="mi">5</span><span class="o">|</span><span class="mi">0</span><span class="p">)</span><span class="o">*</span><span class="mi">5</span><span class="p">},</span><span class="nx">getWeekFloor</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="nx">thisDate</span><span class="o">=</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">E</span><span class="p">.</span><span class="nx">getFullYear</span><span class="p">(),</span><span class="nx">E</span><span class="p">.</span><span class="nx">getMonth</span><span class="p">(),</span><span class="nx">E</span><span class="p">.</span><span class="nx">getDate</span><span class="p">());</span><span class="nx">thisDate</span><span class="p">.</span><span class="nx">setDate</span><span class="p">(</span><span class="nx">E</span><span class="p">.</span><span class="nx">getDate</span><span class="p">()</span><span class="o">-</span><span class="nx">E</span><span class="p">.</span><span class="nx">getDay</span><span class="p">());</span><span class="k">return</span> <span class="nx">thisDate</span><span class="p">},</span><span class="nx">getWeekCeil</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="nx">thisDate</span><span class="o">=</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">E</span><span class="p">.</span><span class="nx">getFullYear</span><span class="p">(),</span><span class="nx">E</span><span class="p">.</span><span class="nx">getMonth</span><span class="p">(),</span><span class="nx">E</span><span class="p">.</span><span class="nx">getDate</span><span class="p">());</span><span class="nx">thisDate</span><span class="p">.</span><span class="nx">setDate</span><span class="p">(</span><span class="nx">thisDate</span><span class="p">.</span><span class="nx">getDate</span><span class="p">()</span><span class="o">+</span><span class="p">(</span><span class="mi">7</span><span class="o">-</span><span class="nx">E</span><span class="p">.</span><span class="nx">getDay</span><span class="p">()));</span><span class="k">return</span> <span class="nx">thisDate</span><span class="p">},</span><span class="nx">floor</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">G</span><span class="p">){</span><span class="kd">var</span> <span class="nx">F</span><span class="o">=</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">G</span><span class="p">);</span><span class="kd">var</span> <span class="nx">H</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">INTERVAL_ORDER</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">idx</span><span class="p">];</span><span class="kd">var</span> <span class="nx">E</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">idx</span><span class="o">&gt;</span><span class="nx">_</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">INTERVAL_ORDER</span><span class="p">,</span><span class="s2">&quot;FullYear&quot;</span><span class="p">)</span><span class="o">?</span><span class="nx">_</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">INTERVAL_ORDER</span><span class="p">,</span><span class="s2">&quot;FullYear&quot;</span><span class="p">)</span><span class="o">:</span><span class="nx">E</span><span class="p">;</span><span class="k">switch</span><span class="p">(</span><span class="nx">H</span><span class="p">){</span><span class="k">case</span><span class="s2">&quot;Decade&quot;</span><span class="o">:</span><span class="nx">F</span><span class="p">.</span><span class="nx">setFullYear</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getDecade</span><span class="p">(</span><span class="nx">F</span><span class="p">));</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;Lustrum&quot;</span><span class="o">:</span><span class="nx">F</span><span class="p">.</span><span class="nx">setFullYear</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getLustrum</span><span class="p">(</span><span class="nx">F</span><span class="p">));</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;Week&quot;</span><span class="o">:</span><span class="nx">F</span><span class="p">.</span><span class="nx">setDate</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getWeekFloor</span><span class="p">(</span><span class="nx">F</span><span class="p">).</span><span class="nx">getDate</span><span class="p">());</span><span class="nx">E</span><span class="o">=</span><span class="nx">_</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">INTERVAL_ORDER</span><span class="p">,</span><span class="s2">&quot;Week&quot;</span><span class="p">)}</span><span class="k">while</span><span class="p">(</span><span class="nx">E</span><span class="o">--</span><span class="p">){</span><span class="nx">H</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">INTERVAL_ORDER</span><span class="p">[</span><span class="nx">E</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">H</span><span class="o">!==</span><span class="s2">&quot;Week&quot;</span><span class="p">){</span><span class="nx">F</span><span class="p">[</span><span class="s2">&quot;set&quot;</span><span class="o">+</span><span class="nx">H</span><span class="p">](</span><span class="nx">H</span><span class="o">===</span><span class="s2">&quot;Date&quot;</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span><span class="mi">0</span><span class="p">)}}</span><span class="k">return</span> <span class="nx">F</span><span class="p">.</span><span class="nx">getTime</span><span class="p">()},</span><span class="nx">ceil</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">F</span><span class="p">){</span><span class="kd">var</span> <span class="nx">E</span><span class="o">=</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">F</span><span class="p">));</span><span class="kd">var</span> <span class="nx">G</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">INTERVAL_ORDER</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">idx</span><span class="p">];</span><span class="k">switch</span><span class="p">(</span><span class="nx">G</span><span class="p">){</span><span class="k">case</span><span class="s2">&quot;Decade&quot;</span><span class="o">:</span><span class="nx">E</span><span class="p">.</span><span class="nx">setFullYear</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getDecade</span><span class="p">(</span><span class="nx">E</span><span class="p">)</span><span class="o">+</span><span class="mi">10</span><span class="p">);</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;Lustrum&quot;</span><span class="o">:</span><span class="nx">E</span><span class="p">.</span><span class="nx">setFullYear</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getLustrum</span><span class="p">(</span><span class="nx">E</span><span class="p">)</span><span class="o">+</span><span class="mi">5</span><span class="p">);</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;Week&quot;</span><span class="o">:</span><span class="nx">E</span><span class="p">.</span><span class="nx">setTime</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getWeekCeil</span><span class="p">(</span><span class="nx">E</span><span class="p">).</span><span class="nx">getTime</span><span class="p">());</span><span class="k">break</span><span class="p">;</span><span class="k">default</span><span class="o">:</span><span class="nx">E</span><span class="p">[</span><span class="s2">&quot;set&quot;</span><span class="o">+</span><span class="nx">G</span><span class="p">](</span><span class="nx">E</span><span class="p">[</span><span class="s2">&quot;get&quot;</span><span class="o">+</span><span class="nx">G</span><span class="p">]()</span><span class="o">+</span><span class="mi">1</span><span class="p">)}</span><span class="k">return</span> <span class="nx">E</span><span class="p">.</span><span class="nx">getTime</span><span class="p">()},</span><span class="nx">span</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nx">E</span><span class="p">)</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">E</span><span class="p">)},</span><span class="nx">getRanges</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">intervals</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">intervals</span><span class="p">}</span><span class="k">this</span><span class="p">.</span><span class="nx">intervals</span><span class="o">=</span><span class="p">[];</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">E</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">min</span><span class="p">);</span><span class="nx">E</span><span class="o">&lt;=</span><span class="k">this</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">max</span><span class="p">);</span><span class="nx">E</span><span class="o">+=</span><span class="k">this</span><span class="p">.</span><span class="nx">span</span><span class="p">(</span><span class="nx">E</span><span class="p">)){</span><span class="k">this</span><span class="p">.</span><span class="nx">intervals</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">human</span><span class="o">:</span><span class="nx">h</span><span class="p">.</span><span class="nx">dateStr</span><span class="p">(</span><span class="nx">E</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">maxInterval</span><span class="p">),</span><span class="nx">timestamp</span><span class="o">:</span><span class="nx">E</span><span class="p">})}</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">intervals</span><span class="p">}};</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">,</span><span class="nx">G</span><span class="p">){</span><span class="kd">var</span> <span class="nx">F</span><span class="o">=</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span><span class="nx">_</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">F</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">H</span><span class="p">){</span><span class="nx">E</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">H</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">G</span><span class="p">[</span><span class="nx">H</span><span class="p">].</span><span class="nx">apply</span><span class="p">(</span><span class="nx">G</span><span class="p">,</span><span class="nx">arguments</span><span class="p">)})})};</span><span class="kd">var</span> <span class="nx">v</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="k">return</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">E</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/^[^+\-\d]?([+\-]?\d+)?.*$/</span><span class="p">,</span><span class="s2">&quot;$1&quot;</span><span class="p">),</span><span class="mi">10</span><span class="p">)};</span><span class="kd">var</span> <span class="nx">z</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">E</span><span class="o">&lt;</span><span class="mi">10</span><span class="o">?</span><span class="s2">&quot;0&quot;</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">+</span><span class="nx">E</span><span class="p">};</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="sr">/^#*/</span><span class="p">;</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="p">{</span><span class="nx">get</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">hash</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)},</span><span class="nx">set</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">hash</span><span class="o">=</span><span class="nx">E</span><span class="p">}};</span><span class="kd">var</span> <span class="nx">x</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="kd">var</span> <span class="nx">u</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">E</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">x</span><span class="o">&lt;</span><span class="mi">10</span><span class="p">){</span><span class="nx">E</span><span class="o">=</span><span class="nx">x</span><span class="p">;</span><span class="nx">x</span><span class="o">+=</span><span class="mi">1</span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="nx">E</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">}</span><span class="k">return</span> <span class="nx">E</span><span class="p">};</span><span class="kd">var</span> <span class="nx">j</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">Timeline</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">F</span><span class="p">,</span><span class="nx">E</span><span class="p">){</span><span class="nx">_</span><span class="p">.</span><span class="nx">bindAll</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;render&quot;</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="o">=</span><span class="nx">F</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">H</span><span class="p">,</span><span class="nx">G</span><span class="p">){</span><span class="k">return</span> <span class="nx">H</span><span class="p">.</span><span class="nx">timestamp</span><span class="o">-</span><span class="nx">G</span><span class="p">.</span><span class="nx">timestamp</span><span class="p">});</span><span class="k">this</span><span class="p">.</span><span class="nx">bySid</span><span class="o">=</span><span class="p">{};</span><span class="k">this</span><span class="p">.</span><span class="nx">cards</span><span class="o">=</span><span class="p">[];</span><span class="k">this</span><span class="p">.</span><span class="nx">series</span><span class="o">=</span><span class="p">[];</span><span class="k">this</span><span class="p">.</span><span class="nx">config</span><span class="o">=</span><span class="nx">E</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">container</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">container</span><span class="o">||</span><span class="s2">&quot;#timeline&quot;</span><span class="p">;</span><span class="nx">h</span><span class="p">.</span><span class="nx">formatter</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">formatter</span><span class="o">||</span><span class="kd">function</span><span class="p">(</span><span class="nx">H</span><span class="p">,</span><span class="nx">G</span><span class="p">){</span><span class="k">return</span> <span class="nx">G</span><span class="p">}};</span><span class="nx">s</span><span class="p">(</span><span class="nx">j</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span><span class="nx">j</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="nx">_</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">j</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,{</span><span class="nx">render</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">F</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="nx">c</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">container</span><span class="p">);</span><span class="nx">e</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">container</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">JST</span><span class="p">.</span><span class="nx">timeline</span><span class="p">());</span><span class="k">this</span><span class="p">.</span><span class="nx">bounds</span><span class="o">=</span><span class="k">new</span> <span class="nx">w</span><span class="p">();</span><span class="k">this</span><span class="p">.</span><span class="nx">bar</span><span class="o">=</span><span class="k">new</span> <span class="nx">b</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">cardCont</span><span class="o">=</span><span class="k">new</span> <span class="nx">q</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">createSeries</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span><span class="kd">var</span> <span class="nx">E</span><span class="o">=</span><span class="k">new</span> <span class="nx">h</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">bounds</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">interval</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">intervals</span><span class="o">=</span><span class="nx">E</span><span class="p">.</span><span class="nx">getRanges</span><span class="p">();</span><span class="k">this</span><span class="p">.</span><span class="nx">bounds</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">bounds</span><span class="p">.</span><span class="nx">min</span><span class="o">-</span><span class="nx">E</span><span class="p">.</span><span class="nx">getMaxInterval</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">bounds</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">bounds</span><span class="p">.</span><span class="nx">max</span><span class="o">+</span><span class="nx">E</span><span class="p">.</span><span class="nx">getMaxInterval</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">bar</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span><span class="nx">n</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">bar</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">cardCont</span><span class="p">,</span><span class="s2">&quot;move&quot;</span><span class="p">,</span><span class="s2">&quot;zoom&quot;</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">&quot;render&quot;</span><span class="p">);</span><span class="k">new</span> <span class="nx">f</span><span class="p">(</span><span class="s2">&quot;in&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">);</span><span class="k">new</span> <span class="nx">f</span><span class="p">(</span><span class="s2">&quot;out&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">chooseNext</span><span class="o">=</span><span class="k">new</span> <span class="nx">C</span><span class="p">(</span><span class="s2">&quot;next&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">choosePrev</span><span class="o">=</span><span class="k">new</span> <span class="nx">C</span><span class="p">(</span><span class="s2">&quot;prev&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.TS-card_active&quot;</span><span class="p">).</span><span class="nx">is</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">)){</span><span class="k">this</span><span class="p">.</span><span class="nx">chooseNext</span><span class="p">.</span><span class="nx">click</span><span class="p">()}</span><span class="nx">e</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">container</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span><span class="nx">_</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">setGlobalCurrentTimeline</span><span class="p">,</span><span class="k">this</span><span class="p">));</span><span class="k">this</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">&quot;load&quot;</span><span class="p">)},</span><span class="nx">setGlobalCurrentTimeline</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">m</span><span class="p">.</span><span class="nx">currentTimeline</span><span class="o">=</span><span class="k">this</span><span class="p">},</span><span class="nx">createSeries</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">F</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">E</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">E</span><span class="o">&lt;</span><span class="nx">F</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">E</span><span class="o">++</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">F</span><span class="p">[</span><span class="nx">E</span><span class="p">])}},</span><span class="nx">add</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">E</span><span class="p">.</span><span class="nx">series</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="nx">bySid</span><span class="p">)){</span><span class="k">this</span><span class="p">.</span><span class="nx">bySid</span><span class="p">[</span><span class="nx">E</span><span class="p">.</span><span class="nx">series</span><span class="p">]</span><span class="o">=</span><span class="k">new</span> <span class="nx">l</span><span class="p">(</span><span class="nx">E</span><span class="p">,</span><span class="k">this</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">series</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">bySid</span><span class="p">[</span><span class="nx">E</span><span class="p">.</span><span class="nx">series</span><span class="p">])}</span><span class="kd">var</span> <span class="nx">F</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">bySid</span><span class="p">[</span><span class="nx">E</span><span class="p">.</span><span class="nx">series</span><span class="p">];</span><span class="nx">F</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">E</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">bounds</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">F</span><span class="p">.</span><span class="nx">max</span><span class="p">());</span><span class="k">this</span><span class="p">.</span><span class="nx">bounds</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">F</span><span class="p">.</span><span class="nx">min</span><span class="p">());</span><span class="k">this</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">&quot;cardAdd&quot;</span><span class="p">,</span><span class="nx">E</span><span class="p">)}});</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">F</span><span class="p">){</span><span class="kd">var</span> <span class="nx">E</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="o">=</span><span class="nx">F</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.TS-notchbar&quot;</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">left</span><span class="o">:</span><span class="mi">0</span><span class="p">});</span><span class="nx">d</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="nx">y</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="nx">_</span><span class="p">.</span><span class="nx">bindAll</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;moving&quot;</span><span class="p">,</span><span class="s2">&quot;doZoom&quot;</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;dragging scrolled&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">moving</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;doZoom&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">doZoom</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;dblclick doubletap&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">G</span><span class="p">){</span><span class="nx">G</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span><span class="nx">E</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.TS-zoom_in&quot;</span><span class="p">).</span><span class="nx">click</span><span class="p">()})};</span><span class="nx">s</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span><span class="nx">B</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span><span class="nx">b</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="nx">_</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,{</span><span class="nx">moving</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">H</span><span class="p">){</span><span class="kd">var</span> <span class="nx">G</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">parent</span><span class="p">();</span><span class="kd">var</span> <span class="nx">F</span><span class="o">=</span><span class="nx">G</span><span class="p">.</span><span class="nx">offset</span><span class="p">().</span><span class="nx">left</span><span class="p">;</span><span class="kd">var</span> <span class="nx">I</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">offset</span><span class="p">().</span><span class="nx">left</span><span class="p">;</span><span class="kd">var</span> <span class="nx">E</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">width</span><span class="p">();</span><span class="k">if</span><span class="p">(</span><span class="nx">_</span><span class="p">.</span><span class="nx">isUndefined</span><span class="p">(</span><span class="nx">H</span><span class="p">.</span><span class="nx">deltaX</span><span class="p">)){</span><span class="nx">H</span><span class="p">.</span><span class="nx">deltaX</span><span class="o">=</span><span class="mi">0</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">I</span><span class="o">+</span><span class="nx">E</span><span class="o">+</span><span class="nx">H</span><span class="p">.</span><span class="nx">deltaX</span><span class="o">&lt;</span><span class="nx">F</span><span class="o">+</span><span class="nx">G</span><span class="p">.</span><span class="nx">width</span><span class="p">()){</span><span class="nx">H</span><span class="p">.</span><span class="nx">deltaX</span><span class="o">=</span><span class="p">(</span><span class="nx">F</span><span class="o">+</span><span class="nx">G</span><span class="p">.</span><span class="nx">width</span><span class="p">())</span><span class="o">-</span><span class="p">(</span><span class="nx">I</span><span class="o">+</span><span class="nx">E</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">I</span><span class="o">+</span><span class="nx">H</span><span class="p">.</span><span class="nx">deltaX</span><span class="o">&gt;</span><span class="nx">F</span><span class="p">){</span><span class="nx">H</span><span class="p">.</span><span class="nx">deltaX</span><span class="o">=</span><span class="nx">F</span><span class="o">-</span><span class="nx">I</span><span class="p">}</span><span class="k">this</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">&quot;move&quot;</span><span class="p">,</span><span class="nx">H</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">&quot;move&quot;</span><span class="p">,</span><span class="nx">H</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">move</span><span class="p">(</span><span class="s2">&quot;move&quot;</span><span class="p">,</span><span class="nx">H</span><span class="p">)},</span><span class="nx">doZoom</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">J</span><span class="p">,</span><span class="nx">F</span><span class="p">){</span><span class="kd">var</span> <span class="nx">G</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="kd">var</span> <span class="nx">E</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.TS-notch_active&quot;</span><span class="p">);</span><span class="kd">var</span> <span class="nx">I</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">E</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">?</span><span class="nx">E</span><span class="p">.</span><span class="nx">position</span><span class="p">().</span><span class="nx">left</span><span class="o">:</span><span class="mi">0</span><span class="p">};</span><span class="kd">var</span> <span class="nx">H</span><span class="o">=</span><span class="nx">I</span><span class="p">();</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">animate</span><span class="p">({</span><span class="nx">width</span><span class="o">:</span><span class="nx">F</span><span class="o">+</span><span class="s2">&quot;%&quot;</span><span class="p">},{</span><span class="nx">step</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">M</span><span class="p">,</span><span class="nx">K</span><span class="p">){</span><span class="kd">var</span> <span class="nx">L</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">Event</span><span class="p">(</span><span class="s2">&quot;dragging&quot;</span><span class="p">);</span><span class="kd">var</span> <span class="nx">N</span><span class="o">=</span><span class="nx">H</span><span class="o">-</span><span class="nx">I</span><span class="p">();</span><span class="nx">L</span><span class="p">.</span><span class="nx">deltaX</span><span class="o">=</span><span class="nx">N</span><span class="p">;</span><span class="nx">G</span><span class="p">.</span><span class="nx">moving</span><span class="p">(</span><span class="nx">L</span><span class="p">);</span><span class="nx">H</span><span class="o">=</span><span class="nx">I</span><span class="p">();</span><span class="nx">L</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">Event</span><span class="p">(</span><span class="s2">&quot;zoom&quot;</span><span class="p">);</span><span class="nx">L</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">M</span><span class="o">+</span><span class="s2">&quot;%&quot;</span><span class="p">;</span><span class="nx">G</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">&quot;zoom&quot;</span><span class="p">,</span><span class="nx">L</span><span class="p">)}})},</span><span class="nx">render</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">G</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">intervals</span><span class="p">;</span><span class="kd">var</span> <span class="nx">H</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">bounds</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">F</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">F</span><span class="o">&lt;</span><span class="nx">G</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">F</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">E</span><span class="o">=</span><span class="nx">JST</span><span class="p">.</span><span class="nx">year_notch</span><span class="p">({</span><span class="nx">timestamp</span><span class="o">:</span><span class="nx">G</span><span class="p">[</span><span class="nx">F</span><span class="p">].</span><span class="nx">timestamp</span><span class="p">,</span><span class="nx">human</span><span class="o">:</span><span class="nx">G</span><span class="p">[</span><span class="nx">F</span><span class="p">].</span><span class="nx">human</span><span class="p">});</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">e</span><span class="p">(</span><span class="nx">E</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">&quot;left&quot;</span><span class="p">,</span><span class="nx">H</span><span class="p">.</span><span class="nx">project</span><span class="p">(</span><span class="nx">G</span><span class="p">[</span><span class="nx">F</span><span class="p">].</span><span class="nx">timestamp</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;%&quot;</span><span class="p">))}}});</span><span class="kd">var</span> <span class="nx">q</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="o">=</span><span class="nx">E</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.TS-card_scroller_inner&quot;</span><span class="p">)};</span><span class="nx">s</span><span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span><span class="nx">B</span><span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">,</span><span class="nx">F</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="o">=</span><span class="nx">F</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="o">=</span><span class="nx">E</span><span class="p">.</span><span class="nx">series</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">color</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">?</span><span class="nx">u</span><span class="p">()</span><span class="o">:</span><span class="s2">&quot;default&quot;</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">cards</span><span class="o">=</span><span class="p">[];</span><span class="nx">_</span><span class="p">.</span><span class="nx">bindAll</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;render&quot;</span><span class="p">,</span><span class="s2">&quot;showNotches&quot;</span><span class="p">,</span><span class="s2">&quot;hideNotches&quot;</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;render&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">)};</span><span class="nx">s</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span><span class="nx">l</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="nx">_</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,{</span><span class="nx">add</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="kd">var</span> <span class="nx">F</span><span class="o">=</span><span class="k">new</span> <span class="nx">k</span><span class="p">(</span><span class="nx">E</span><span class="p">,</span><span class="k">this</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">cards</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">F</span><span class="p">)},</span><span class="nx">_comparator</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="k">return</span> <span class="nx">E</span><span class="p">.</span><span class="nx">timestamp</span><span class="p">},</span><span class="nx">hideNotches</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="nx">E</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">&quot;TS-series_legend_item_inactive&quot;</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">&quot;hideNotch&quot;</span><span class="p">)},</span><span class="nx">showNotches</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="nx">E</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">&quot;TS-series_legend_item_inactive&quot;</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">&quot;showNotch&quot;</span><span class="p">)},</span><span class="nx">render</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">.</span><span class="nx">length</span><span class="o">===</span><span class="mi">0</span><span class="p">){</span><span class="k">return</span><span class="p">}</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="o">=</span><span class="nx">e</span><span class="p">(</span><span class="nx">JST</span><span class="p">.</span><span class="nx">series_legend</span><span class="p">(</span><span class="k">this</span><span class="p">));</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.TS-series_nav_container&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">toggle</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">hideNotches</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">showNotches</span><span class="p">)}});</span><span class="nx">_</span><span class="p">([</span><span class="s2">&quot;min&quot;</span><span class="p">,</span><span class="s2">&quot;max&quot;</span><span class="p">]).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="nx">l</span><span class="p">.</span><span class="nx">prototype</span><span class="p">[</span><span class="nx">E</span><span class="p">]</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">_</span><span class="p">[</span><span class="nx">E</span><span class="p">].</span><span class="nx">call</span><span class="p">(</span><span class="nx">_</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">cards</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_comparator</span><span class="p">).</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;timestamp&quot;</span><span class="p">)}});</span><span class="kd">var</span> <span class="nx">k</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">,</span><span class="nx">F</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">series</span><span class="o">=</span><span class="nx">F</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">series</span><span class="p">.</span><span class="nx">timeline</span><span class="p">;</span><span class="nx">E</span><span class="o">=</span><span class="nx">_</span><span class="p">.</span><span class="nx">clone</span><span class="p">(</span><span class="nx">E</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">timestamp</span><span class="o">=</span><span class="nx">E</span><span class="p">.</span><span class="nx">timestamp</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">attributes</span><span class="o">=</span><span class="nx">E</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">attributes</span><span class="p">.</span><span class="nx">topcolor</span><span class="o">=</span><span class="nx">F</span><span class="p">.</span><span class="nx">color</span><span class="p">;</span><span class="nx">_</span><span class="p">.</span><span class="nx">bindAll</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;render&quot;</span><span class="p">,</span><span class="s2">&quot;activate&quot;</span><span class="p">,</span><span class="s2">&quot;flip&quot;</span><span class="p">,</span><span class="s2">&quot;setPermalink&quot;</span><span class="p">,</span><span class="s2">&quot;toggleNotch&quot;</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">series</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;hideNotch&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">toggleNotch</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">series</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;showNotch&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">toggleNotch</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;render&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">bar</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;flip&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">flip</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="o">=</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;timestamp&quot;</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;description&quot;</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="sr">/ /</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/[^a-zA-Z\-]/g</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)].</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">cards</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">this</span><span class="p">)};</span><span class="nx">k</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="nx">_</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">k</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,{</span><span class="nx">get</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">attributes</span><span class="p">[</span><span class="nx">E</span><span class="p">]},</span><span class="nx">render</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">offset</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">bounds</span><span class="p">.</span><span class="nx">project</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">timestamp</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span><span class="kd">var</span> <span class="nx">E</span><span class="o">=</span><span class="nx">JST</span><span class="p">.</span><span class="nx">notch</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">attributes</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">notch</span><span class="o">=</span><span class="nx">e</span><span class="p">(</span><span class="nx">E</span><span class="p">).</span><span class="nx">css</span><span class="p">({</span><span class="nx">left</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">offset</span><span class="o">+</span><span class="s2">&quot;%&quot;</span><span class="p">});</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.TS-notchbar&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">notch</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">notch</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">activate</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">get</span><span class="p">()</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">activate</span><span class="p">()}},</span><span class="nx">flip</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="o">||!</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="s2">&quot;:visible&quot;</span><span class="p">)){</span><span class="k">return</span><span class="p">}</span><span class="kd">var</span> <span class="nx">E</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.TS-item&quot;</span><span class="p">).</span><span class="nx">offset</span><span class="p">().</span><span class="nx">left</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.TS-item&quot;</span><span class="p">).</span><span class="nx">width</span><span class="p">();</span><span class="kd">var</span> <span class="nx">I</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.timeline_setter&quot;</span><span class="p">).</span><span class="nx">offset</span><span class="p">().</span><span class="nx">left</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.timeline_setter&quot;</span><span class="p">).</span><span class="nx">width</span><span class="p">();</span><span class="kd">var</span> <span class="nx">H</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s2">&quot;margin-left&quot;</span><span class="p">)</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">originalMargin</span><span class="p">;</span><span class="kd">var</span> <span class="nx">G</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.TS-item&quot;</span><span class="p">).</span><span class="nx">width</span><span class="p">()</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.timeline_setter&quot;</span><span class="p">).</span><span class="nx">width</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span><span class="kd">var</span> <span class="nx">F</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">position</span><span class="p">().</span><span class="nx">left</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.TS-item&quot;</span><span class="p">).</span><span class="nx">width</span><span class="p">()</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">I</span><span class="o">-</span><span class="nx">E</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">H</span><span class="o">&amp;&amp;!</span><span class="nx">F</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="s2">&quot;margin-left&quot;</span><span class="o">:-</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.TS-item&quot;</span><span class="p">).</span><span class="nx">width</span><span class="p">()</span><span class="o">+</span><span class="mi">7</span><span class="p">)});</span><span class="k">this</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.TS-css_arrow&quot;</span><span class="p">).</span><span class="nx">css</span><span class="p">({</span><span class="nx">left</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.TS-item&quot;</span><span class="p">).</span><span class="nx">width</span><span class="p">()})}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">offset</span><span class="p">().</span><span class="nx">left</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.timeline_setter&quot;</span><span class="p">).</span><span class="nx">offset</span><span class="p">().</span><span class="nx">left</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&amp;&amp;!</span><span class="nx">H</span><span class="o">&amp;&amp;</span><span class="nx">G</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="s2">&quot;margin-left&quot;</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">originalMargin</span><span class="p">});</span><span class="k">this</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.TS-css_arrow&quot;</span><span class="p">).</span><span class="nx">css</span><span class="p">({</span><span class="nx">left</span><span class="o">:</span><span class="mi">0</span><span class="p">})}}},</span><span class="nx">activate</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">F</span><span class="p">){</span><span class="kd">var</span> <span class="nx">E</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">hideActiveCard</span><span class="p">();</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="o">=</span><span class="nx">e</span><span class="p">(</span><span class="nx">JST</span><span class="p">.</span><span class="nx">card</span><span class="p">({</span><span class="nx">card</span><span class="o">:</span><span class="k">this</span><span class="p">}));</span><span class="nx">c</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">left</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">offset</span><span class="o">+</span><span class="s2">&quot;%&quot;</span><span class="p">});</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.TS-card_scroller_inner&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">originalMargin</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s2">&quot;margin-left&quot;</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">delegate</span><span class="p">(</span><span class="s2">&quot;.TS-permalink&quot;</span><span class="p">,</span><span class="s2">&quot;click&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">setPermalink</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;img&quot;</span><span class="p">).</span><span class="nx">load</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">activate</span><span class="p">)}</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">show</span><span class="p">().</span><span class="nx">addClass</span><span class="p">((</span><span class="s2">&quot;TS-card_active&quot;</span><span class="p">));</span><span class="k">this</span><span class="p">.</span><span class="nx">notch</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">&quot;TS-notch_active&quot;</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">setWidth</span><span class="p">();</span><span class="k">this</span><span class="p">.</span><span class="nx">flip</span><span class="p">();</span><span class="k">this</span><span class="p">.</span><span class="nx">move</span><span class="p">();</span><span class="k">this</span><span class="p">.</span><span class="nx">series</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">&quot;cardActivate&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">attributes</span><span class="p">)},</span><span class="nx">setWidth</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">F</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="kd">var</span> <span class="nx">E</span><span class="o">=</span><span class="nx">_</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">_</span><span class="p">.</span><span class="nx">toArray</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.TS-item_user_html&quot;</span><span class="p">).</span><span class="nx">children</span><span class="p">()),</span><span class="kd">function</span><span class="p">(</span><span class="nx">G</span><span class="p">){</span><span class="k">return</span> <span class="nx">F</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="nx">G</span><span class="p">).</span><span class="nx">width</span><span class="p">()});</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="nx">E</span><span class="p">).</span><span class="nx">width</span><span class="p">()</span><span class="o">&gt;</span><span class="k">this</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.TS-item_year&quot;</span><span class="p">).</span><span class="nx">width</span><span class="p">()){</span><span class="k">this</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.TS-item_label&quot;</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="nx">E</span><span class="p">).</span><span class="nx">width</span><span class="p">())}</span><span class="k">else</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.TS-item_label&quot;</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.TS-item_year&quot;</span><span class="p">).</span><span class="nx">width</span><span class="p">())}},</span><span class="nx">move</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">F</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">Event</span><span class="p">(</span><span class="s2">&quot;moving&quot;</span><span class="p">);</span><span class="kd">var</span> <span class="nx">G</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.TS-item&quot;</span><span class="p">).</span><span class="nx">offset</span><span class="p">();</span><span class="kd">var</span> <span class="nx">E</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.timeline_setter&quot;</span><span class="p">).</span><span class="nx">offset</span><span class="p">();</span><span class="k">if</span><span class="p">(</span><span class="nx">G</span><span class="p">.</span><span class="nx">left</span><span class="o">&lt;</span><span class="nx">E</span><span class="p">.</span><span class="nx">left</span><span class="p">){</span><span class="nx">F</span><span class="p">.</span><span class="nx">deltaX</span><span class="o">=</span><span class="nx">E</span><span class="p">.</span><span class="nx">left</span><span class="o">-</span><span class="nx">G</span><span class="p">.</span><span class="nx">left</span><span class="o">+</span><span class="nx">v</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.TS-item&quot;</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">&quot;padding-left&quot;</span><span class="p">));</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">bar</span><span class="p">.</span><span class="nx">moving</span><span class="p">(</span><span class="nx">F</span><span class="p">)}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="nx">G</span><span class="p">.</span><span class="nx">left</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.TS-item&quot;</span><span class="p">).</span><span class="nx">outerWidth</span><span class="p">()</span><span class="o">&gt;</span><span class="nx">E</span><span class="p">.</span><span class="nx">left</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.timeline_setter&quot;</span><span class="p">).</span><span class="nx">width</span><span class="p">()){</span><span class="nx">F</span><span class="p">.</span><span class="nx">deltaX</span><span class="o">=</span><span class="nx">E</span><span class="p">.</span><span class="nx">left</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.timeline_setter&quot;</span><span class="p">).</span><span class="nx">width</span><span class="p">()</span><span class="o">-</span><span class="p">(</span><span class="nx">G</span><span class="p">.</span><span class="nx">left</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.TS-item&quot;</span><span class="p">).</span><span class="nx">outerWidth</span><span class="p">());</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">bar</span><span class="p">.</span><span class="nx">moving</span><span class="p">(</span><span class="nx">F</span><span class="p">)}}},</span><span class="nx">setPermalink</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">r</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">)},</span><span class="nx">hideActiveCard</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.TS-card_active&quot;</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">&quot;TS-card_active&quot;</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.TS-notch_active&quot;</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">&quot;TS-notch_active&quot;</span><span class="p">)},</span><span class="nx">toggleNotch</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="k">switch</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="k">case</span><span class="s2">&quot;hideNotch&quot;</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">notch</span><span class="p">.</span><span class="nx">hide</span><span class="p">().</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">&quot;TS-notch_active&quot;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">&quot;TS-series_inactive&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">hide</span><span class="p">()}</span><span class="k">return</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;showNotch&quot;</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">notch</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">&quot;TS-series_inactive&quot;</span><span class="p">).</span><span class="nx">show</span><span class="p">()}}});</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="kd">function</span><span class="p">(){};</span><span class="kd">var</span> <span class="nx">p</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">F</span><span class="p">,</span><span class="nx">E</span><span class="p">){</span><span class="nx">g</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="nx">E</span><span class="p">.</span><span class="nx">prototype</span><span class="p">;</span><span class="nx">F</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="k">new</span> <span class="nx">g</span><span class="p">();</span><span class="nx">F</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">constructor</span><span class="o">=</span><span class="nx">F</span><span class="p">};</span><span class="kd">var</span> <span class="nx">D</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">G</span><span class="p">,</span><span class="nx">F</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="o">=</span><span class="nx">F</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">direction</span><span class="o">=</span><span class="nx">G</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">prefix</span><span class="o">+</span><span class="nx">G</span><span class="p">);</span><span class="kd">var</span> <span class="nx">E</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">H</span><span class="p">){</span><span class="nx">H</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span><span class="nx">E</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">H</span><span class="p">)})};</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="mi">100</span><span class="p">;</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">F</span><span class="p">,</span><span class="nx">E</span><span class="p">){</span><span class="nx">D</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">arguments</span><span class="p">)};</span><span class="nx">p</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="nx">D</span><span class="p">);</span><span class="nx">f</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="nx">_</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,{</span><span class="nx">prefix</span><span class="o">:</span><span class="s2">&quot;.TS-zoom_&quot;</span><span class="p">,</span><span class="nx">click</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">a</span><span class="o">+=</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">direction</span><span class="o">===</span><span class="s2">&quot;in&quot;</span><span class="o">?+</span><span class="mi">100</span><span class="o">:-</span><span class="mi">100</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">&gt;=</span><span class="mi">100</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.TS-notchbar&quot;</span><span class="p">).</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">&quot;doZoom&quot;</span><span class="p">,[</span><span class="nx">a</span><span class="p">])}</span><span class="k">else</span><span class="p">{</span><span class="nx">a</span><span class="o">=</span><span class="mi">100</span><span class="p">}}});</span><span class="kd">var</span> <span class="nx">C</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">F</span><span class="p">,</span><span class="nx">E</span><span class="p">){</span><span class="nx">D</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">arguments</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">notches</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.TS-notch&quot;</span><span class="p">)};</span><span class="nx">p</span><span class="p">(</span><span class="nx">C</span><span class="p">,</span><span class="nx">D</span><span class="p">);</span><span class="nx">C</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="nx">_</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">D</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,{</span><span class="nx">prefix</span><span class="o">:</span><span class="s2">&quot;.TS-choose_&quot;</span><span class="p">,</span><span class="nx">click</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">I</span><span class="p">){</span><span class="kd">var</span> <span class="nx">F</span><span class="p">;</span><span class="kd">var</span> <span class="nx">H</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">notches</span><span class="p">.</span><span class="nx">not</span><span class="p">(</span><span class="s2">&quot;.TS-series_inactive&quot;</span><span class="p">);</span><span class="kd">var</span> <span class="nx">E</span><span class="o">=</span><span class="nx">H</span><span class="p">.</span><span class="nx">index</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.TS-notch_active&quot;</span><span class="p">));</span><span class="kd">var</span> <span class="nx">G</span><span class="o">=</span><span class="nx">H</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">direction</span><span class="o">===</span><span class="s2">&quot;next&quot;</span><span class="p">){</span><span class="nx">F</span><span class="o">=</span><span class="p">(</span><span class="nx">E</span><span class="o">&lt;</span><span class="nx">G</span><span class="o">?</span><span class="nx">H</span><span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="nx">E</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">:</span><span class="kc">false</span><span class="p">)}</span><span class="k">else</span><span class="p">{</span><span class="nx">F</span><span class="o">=</span><span class="p">(</span><span class="nx">E</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">?</span><span class="nx">H</span><span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="nx">E</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">:</span><span class="kc">false</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">F</span><span class="p">){</span><span class="k">return</span><span class="p">}</span><span class="nx">F</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">)}});</span><span class="nx">m</span><span class="p">.</span><span class="nx">Api</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="o">=</span><span class="nx">E</span><span class="p">};</span><span class="nx">m</span><span class="p">.</span><span class="nx">Api</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="nx">_</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">Api</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,{</span><span class="nx">onLoad</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;load&quot;</span><span class="p">,</span><span class="nx">E</span><span class="p">)},</span><span class="nx">onCardAdd</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;cardAdd&quot;</span><span class="p">,</span><span class="nx">E</span><span class="p">)},</span><span class="nx">onCardActivate</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;cardActivate&quot;</span><span class="p">,</span><span class="nx">E</span><span class="p">)},</span><span class="nx">onBarMove</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;move&quot;</span><span class="p">,</span><span class="nx">E</span><span class="p">)},</span><span class="nx">activateCard</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="nx">_</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">timeline</span><span class="p">.</span><span class="nx">cards</span><span class="p">).</span><span class="nx">detect</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">F</span><span class="p">){</span><span class="k">return</span> <span class="nx">F</span><span class="p">.</span><span class="nx">timestamp</span><span class="o">===</span><span class="nx">E</span><span class="p">}).</span><span class="nx">activate</span><span class="p">()}});</span><span class="nx">m</span><span class="p">.</span><span class="nx">bindKeydowns</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">e</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;keydown&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">E</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">currentTimeline</span><span class="o">&amp;&amp;</span><span class="nx">E</span><span class="p">.</span><span class="nx">keyCode</span><span class="o">===</span><span class="mi">39</span><span class="p">){</span><span class="nx">m</span><span class="p">.</span><span class="nx">currentTimeline</span><span class="p">.</span><span class="nx">chooseNext</span><span class="p">.</span><span class="nx">click</span><span class="p">()}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">currentTimeline</span><span class="o">&amp;&amp;</span><span class="nx">E</span><span class="p">.</span><span class="nx">keyCode</span><span class="o">===</span><span class="mi">37</span><span class="p">){</span><span class="nx">m</span><span class="p">.</span><span class="nx">currentTimeline</span><span class="p">.</span><span class="nx">choosePrev</span><span class="p">.</span><span class="nx">click</span><span class="p">()}</span><span class="k">else</span><span class="p">{</span><span class="k">return</span><span class="p">}}})};</span><span class="nx">j</span><span class="p">.</span><span class="nx">boot</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">H</span><span class="p">,</span><span class="nx">E</span><span class="p">){</span><span class="kd">var</span> <span class="nx">G</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">timeline</span><span class="o">=</span><span class="k">new</span> <span class="nx">j</span><span class="p">(</span><span class="nx">H</span><span class="p">,</span><span class="nx">E</span><span class="o">||</span><span class="p">{});</span><span class="kd">var</span> <span class="nx">F</span><span class="o">=</span><span class="k">new</span> <span class="nx">m</span><span class="p">.</span><span class="nx">Api</span><span class="p">(</span><span class="nx">G</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">m</span><span class="p">.</span><span class="nx">pageTimelines</span><span class="p">){</span><span class="nx">m</span><span class="p">.</span><span class="nx">currentTimeline</span><span class="o">=</span><span class="nx">G</span><span class="p">;</span><span class="nx">m</span><span class="p">.</span><span class="nx">bindKeydowns</span><span class="p">()}</span><span class="nx">m</span><span class="p">.</span><span class="nx">pageTimelines</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">pageTimelines</span><span class="o">?</span><span class="nx">m</span><span class="p">.</span><span class="nx">pageTimelines</span><span class="o">+=</span><span class="mi">1</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span><span class="nx">e</span><span class="p">(</span><span class="nx">G</span><span class="p">.</span><span class="nx">render</span><span class="p">);</span><span class="k">return</span><span class="p">{</span><span class="nx">timeline</span><span class="o">:</span><span class="nx">G</span><span class="p">,</span><span class="nx">api</span><span class="o">:</span><span class="nx">F</span><span class="p">}}})(</span><span class="nx">jQuery</span><span class="p">);(</span><span class="kd">function</span><span class="p">(){</span><span class="nb">window</span><span class="p">.</span><span class="nx">JST</span><span class="o">=</span><span class="nb">window</span><span class="p">.</span><span class="nx">JST</span><span class="o">||</span><span class="p">{};</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="k">new</span> <span class="nb">Function</span><span class="p">(</span><span class="s2">&quot;obj&quot;</span><span class="p">,</span><span class="s2">&quot;var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push(&#39;&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\\/g</span><span class="p">,</span><span class="s2">&quot;\\\\&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/&#39;/g</span><span class="p">,</span><span class="s2">&quot;\\&#39;&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/&lt;%=([\s\S]+?)%&gt;/g</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="s2">&quot;&#39;,&quot;</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\\&#39;/g</span><span class="p">,</span><span class="s2">&quot;&#39;&quot;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;,&#39;&quot;</span><span class="p">}).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/&lt;%([\s\S]+?)%&gt;/g</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="s2">&quot;&#39;);&quot;</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\\&#39;/g</span><span class="p">,</span><span class="s2">&quot;&#39;&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/[\r\n\t]/g</span><span class="p">,</span><span class="s2">&quot; &quot;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;__p.push(&#39;&quot;</span><span class="p">}).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\r/g</span><span class="p">,</span><span class="s2">&quot;\\r&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\n/g</span><span class="p">,</span><span class="s2">&quot;\\n&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\t/g</span><span class="p">,</span><span class="s2">&quot;\\t&quot;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;&#39;);}return __p.join(&#39;&#39;);&quot;</span><span class="p">);</span><span class="k">return</span> <span class="nx">b</span><span class="p">};</span><span class="nb">window</span><span class="p">.</span><span class="nx">JST</span><span class="p">.</span><span class="nx">card</span><span class="o">=</span><span class="nx">a</span><span class="p">(</span><span class="s1">&#39;&lt;div class=&quot;TS-card_container TS-card_container_&lt;%= (card.get(&quot;series&quot;) || &quot;&quot;).replace(/W/g, &quot;&quot;) %&gt;&quot;&gt;\n&lt;div class=&quot;TS-css_arrow TS-css_arrow_up TS-css_arrow_color_&lt;%= card.get(&quot;topcolor&quot;) %&gt;&quot;&gt;&lt;/div&gt;\n  &lt;div class=&quot;TS-item TS-item_color_&lt;%= card.get(&quot;topcolor&quot;) %&gt;&quot; data-timestamp=&quot;&lt;%= card.get(&quot;timestamp&quot;) %&gt;&quot;&gt;\n    &lt;div class=&quot;TS-item_label&quot;&gt;\n      &lt;% if (!_.isEmpty(card.get(&quot;html&quot;))){ %&gt;\n        &lt;div class=&quot;TS-item_user_html&quot;&gt;\n          &lt;%= card.get(&quot;html&quot;) %&gt;\n        &lt;/div&gt;\n      &lt;% } %&gt;\n      &lt;%= card.get(&quot;description&quot;) %&gt;\n    &lt;/div&gt;\n      &lt;% if (!_.isEmpty(card.get(&quot;link&quot;))){ %&gt;\n          &lt;a class=&quot;TS-read_btn&quot; target=&quot;_blank&quot; href=&quot;&lt;%= card.get(&quot;link&quot;) %&gt;&quot;&gt;Read More&lt;/a&gt;\n      &lt;% } %&gt;\n\n    &lt;div class=&quot;TS-item_year&quot;&gt;\n      &lt;span class=&quot;TS-item_year_text&quot;&gt;&lt;%= (card.get(&quot;display_date&quot;) || &quot;&quot;).length &gt; 0 ? card.get(&quot;display_date&quot;) : card.get(&quot;date&quot;) %&gt;&lt;/span&gt;\n      &lt;div class=&quot;TS-permalink&quot;&gt;&amp;#8734;&lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;&#39;</span><span class="p">);</span><span class="nb">window</span><span class="p">.</span><span class="nx">JST</span><span class="p">.</span><span class="nx">notch</span><span class="o">=</span><span class="nx">a</span><span class="p">(</span><span class="s1">&#39;&lt;div class=&quot;TS-notch TS-notch_&lt;%= timestamp %&gt; TS-notch_&lt;%= series.replace(/W/g, &quot;&quot;) %&gt; TS-notch_color_&lt;%= topcolor %&gt;&quot;&gt;&lt;/div&gt;\n&#39;</span><span class="p">);</span><span class="nb">window</span><span class="p">.</span><span class="nx">JST</span><span class="p">.</span><span class="nx">series_legend</span><span class="o">=</span><span class="nx">a</span><span class="p">(</span><span class="s1">&#39;&lt;div class=&quot;TS-series_legend_item TS-series_legend_item_&lt;%= name.replace(/W/g, &quot;&quot;) %&gt;&quot;&gt;\n  &lt;span class=&quot;TS-series_legend_swatch TS-series_legend_swatch_&lt;%= color %&gt;&quot;&gt;&amp;nbsp;&lt;/span&gt; &lt;span class=&quot;TS-series_legend_text&quot;&gt;&lt;%= name %&gt;&lt;/span&gt;\n&lt;/div&gt;\n&#39;</span><span class="p">);</span><span class="nb">window</span><span class="p">.</span><span class="nx">JST</span><span class="p">.</span><span class="nx">timeline</span><span class="o">=</span><span class="nx">a</span><span class="p">(</span><span class="s1">&#39;&lt;div class=&quot;timeline_setter&quot;&gt;\n  &lt;div class=&quot;TS-top_matter_container&quot;&gt;\n    &lt;div class=&quot;TS-controls&quot;&gt;\n      &lt;a href=&quot;#&quot; class=&quot;TS-zoom TS-zoom_in&quot;&gt;&lt;span class=&quot;TS-controls_inner_text TS-zoom_inner_text&quot;&gt;+&lt;/span&gt;&lt;/a&gt; \n      &lt;a href=&quot;#&quot; class=&quot;TS-zoom TS-zoom_out&quot;&gt;&lt;span class=&quot;TS-controls_inner_text TS-zoom_inner_text&quot;&gt;-&lt;/span&gt;&lt;/a&gt; \n        &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; \n      &lt;a href=&quot;#&quot; class=&quot;TS-choose TS-choose_prev&quot;&gt;&amp;laquo;&amp;nbsp;&lt;span class=&quot;TS-controls_inner_text&quot;&gt;Previous&lt;/span&gt;&lt;/a&gt; \n      &lt;a href=&quot;#&quot; class=&quot;TS-choose TS-choose_next&quot;&gt;&lt;span class=&quot;TS-controls_inner_text&quot;&gt;Next&lt;/span&gt;&amp;nbsp;&amp;raquo;&lt;/a&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;TS-series_nav_container&quot;&gt;&lt;/div&gt;\n  &lt;/div&gt;\n\n  &lt;div class=&quot;TS-notchbar_container&quot;&gt;\n    &lt;div class=&quot;TS-notchbar&quot;&gt;&lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=&quot;TS-card_scroller&quot;&gt;\n    &lt;div class=&quot;TS-card_scroller_inner&quot;&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;&#39;</span><span class="p">);</span><span class="nb">window</span><span class="p">.</span><span class="nx">JST</span><span class="p">.</span><span class="nx">year_notch</span><span class="o">=</span><span class="nx">a</span><span class="p">(</span><span class="s1">&#39;&lt;div class=&quot;TS-year_notch TS-year_notch_&lt;%= timestamp %&gt;&quot;&gt;\n  &lt;span class=&quot;TS-year_notch_year_text&quot;&gt;&lt;%= human %&gt;&lt;/span&gt;\n&lt;/div&gt;\n&#39;</span><span class="p">)})();</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 